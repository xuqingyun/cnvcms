<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

    
<mapper namespace="com.cnv.cms.mapper.ArticleMapper">
   
	<!--  基本增删改查  -->
	<!--  添加  -->
    <insert id="add" parameterType="Article" 
        useGeneratedKeys="true" keyProperty="id"> 
        insert into t_article
        values(#{id},#{title},#{summary},#{content},#{keywords},
        	#{userId},#{channelId},#{status},#{createDate},#{recommend},
        	#{chiefPic},#{readTimes},#{fellows});  
    </insert> 
 	<!--删除操作  -->
	<select id="delete" parameterType="int">
		delete from t_article where id= #{id}
	</select>   
         
    <!-- 返回用户 list -->
    <select id="selectUsers" parameterType="string" resultType="User">
        select * from t_user where username like #{username}
    </select>
    <!-- 根据id查询用户-->
     <select id="selectUserByID" parameterType="int" resultType="User">
        select * from t_user where id=#{id}
	</select>
    <!-- 根据用户名查询用户-->
     <select id="selectUserByName" parameterType="string" resultType="User">
        select * from t_user where username=#{username};
	</select>
	<!--更新操作  -->
	<select id="updateUser" parameterType="User">
		update t_user set username=#{username},password=#{password}, 
		nickname=#{nickname},email=#{email},phone=#{phone},status=#{status} where id= #{id}
	</select>
	<!--删除操作  -->
	<select id="deleteUser" parameterType="int">
		delete from t_user where id= #{id}
	</select>
	<!--删除操作大于id的记录  -->
	<select id="deleteUserLargerByID" parameterType="int">
		delete from t_user where id > #{id}
	</select>
</mapper>